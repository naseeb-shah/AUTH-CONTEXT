{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildPresetChain = buildPresetChain;\nexports.buildPresetChainWalker = void 0;\nexports.buildRootChain = buildRootChain;\n\nfunction _path() {\n  const data = require(\"path\");\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _debug() {\n  const data = require(\"debug\");\n\n  _debug = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _options = require(\"./validation/options\");\n\nvar _patternToRegex = require(\"./pattern-to-regex\");\n\nvar _printer = require(\"./printer\");\n\nvar _files = require(\"./files\");\n\nvar _caching = require(\"./caching\");\n\nvar _configDescriptors = require(\"./config-descriptors\");\n\nconst debug = _debug()(\"babel:config:config-chain\");\n\nfunction* buildPresetChain(arg, context) {\n  const chain = yield* buildPresetChainWalker(arg, context);\n  if (!chain) return null;\n  return {\n    plugins: dedupDescriptors(chain.plugins),\n    presets: dedupDescriptors(chain.presets),\n    options: chain.options.map(o => normalizeOptions(o)),\n    files: new Set()\n  };\n}\n\nconst buildPresetChainWalker = makeChainWalker({\n  root: preset => loadPresetDescriptors(preset),\n  env: (preset, envName) => loadPresetEnvDescriptors(preset)(envName),\n  overrides: (preset, index) => loadPresetOverridesDescriptors(preset)(index),\n  overridesEnv: (preset, index, envName) => loadPresetOverridesEnvDescriptors(preset)(index)(envName),\n  createLogger: () => () => {}\n});\nexports.buildPresetChainWalker = buildPresetChainWalker;\nconst loadPresetDescriptors = (0, _caching.makeWeakCacheSync)(preset => buildRootDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors));\nconst loadPresetEnvDescriptors = (0, _caching.makeWeakCacheSync)(preset => (0, _caching.makeStrongCacheSync)(envName => buildEnvDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors, envName)));\nconst loadPresetOverridesDescriptors = (0, _caching.makeWeakCacheSync)(preset => (0, _caching.makeStrongCacheSync)(index => buildOverrideDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors, index)));\nconst loadPresetOverridesEnvDescriptors = (0, _caching.makeWeakCacheSync)(preset => (0, _caching.makeStrongCacheSync)(index => (0, _caching.makeStrongCacheSync)(envName => buildOverrideEnvDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors, index, envName))));\n\nfunction* buildRootChain(opts, context) {\n  let configReport, babelRcReport;\n  const programmaticLogger = new _printer.ConfigPrinter();\n  const programmaticChain = yield* loadProgrammaticChain({\n    options: opts,\n    dirname: context.cwd\n  }, context, undefined, programmaticLogger);\n  if (!programmaticChain) return null;\n  const programmaticReport = yield* programmaticLogger.output();\n  let configFile;\n\n  if (typeof opts.configFile === \"string\") {\n    configFile = yield* (0, _files.loadConfig)(opts.configFile, context.cwd, context.envName, context.caller);\n  } else if (opts.configFile !== false) {\n    configFile = yield* (0, _files.findRootConfig)(context.root, context.envName, context.caller);\n  }\n\n  let {\n    babelrc,\n    babelrcRoots\n  } = opts;\n  let babelrcRootsDirectory = context.cwd;\n  const configFileChain = emptyChain();\n  const configFileLogger = new _printer.ConfigPrinter();\n\n  if (configFile) {\n    const validatedFile = validateConfigFile(configFile);\n    const result = yield* loadFileChain(validatedFile, context, undefined, configFileLogger);\n    if (!result) return null;\n    configReport = yield* configFileLogger.output();\n\n    if (babelrc === undefined) {\n      babelrc = validatedFile.options.babelrc;\n    }\n\n    if (babelrcRoots === undefined) {\n      babelrcRootsDirectory = validatedFile.dirname;\n      babelrcRoots = validatedFile.options.babelrcRoots;\n    }\n\n    mergeChain(configFileChain, result);\n  }\n\n  let ignoreFile, babelrcFile;\n  let isIgnored = false;\n  const fileChain = emptyChain();\n\n  if ((babelrc === true || babelrc === undefined) && typeof context.filename === \"string\") {\n    const pkgData = yield* (0, _files.findPackageData)(context.filename);\n\n    if (pkgData && babelrcLoadEnabled(context, pkgData, babelrcRoots, babelrcRootsDirectory)) {\n      ({\n        ignore: ignoreFile,\n        config: babelrcFile\n      } = yield* (0, _files.findRelativeConfig)(pkgData, context.envName, context.caller));\n\n      if (ignoreFile) {\n        fileChain.files.add(ignoreFile.filepath);\n      }\n\n      if (ignoreFile && shouldIgnore(context, ignoreFile.ignore, null, ignoreFile.dirname)) {\n        isIgnored = true;\n      }\n\n      if (babelrcFile && !isIgnored) {\n        const validatedFile = validateBabelrcFile(babelrcFile);\n        const babelrcLogger = new _printer.ConfigPrinter();\n        const result = yield* loadFileChain(validatedFile, context, undefined, babelrcLogger);\n\n        if (!result) {\n          isIgnored = true;\n        } else {\n          babelRcReport = yield* babelrcLogger.output();\n          mergeChain(fileChain, result);\n        }\n      }\n\n      if (babelrcFile && isIgnored) {\n        fileChain.files.add(babelrcFile.filepath);\n      }\n    }\n  }\n\n  if (context.showConfig) {\n    console.log(`Babel configs on \"${context.filename}\" (ascending priority):\\n` + [configReport, babelRcReport, programmaticReport].filter(x => !!x).join(\"\\n\\n\") + \"\\n-----End Babel configs-----\");\n  }\n\n  const chain = mergeChain(mergeChain(mergeChain(emptyChain(), configFileChain), fileChain), programmaticChain);\n  return {\n    plugins: isIgnored ? [] : dedupDescriptors(chain.plugins),\n    presets: isIgnored ? [] : dedupDescriptors(chain.presets),\n    options: isIgnored ? [] : chain.options.map(o => normalizeOptions(o)),\n    fileHandling: isIgnored ? \"ignored\" : \"transpile\",\n    ignore: ignoreFile || undefined,\n    babelrc: babelrcFile || undefined,\n    config: configFile || undefined,\n    files: chain.files\n  };\n}\n\nfunction babelrcLoadEnabled(context, pkgData, babelrcRoots, babelrcRootsDirectory) {\n  if (typeof babelrcRoots === \"boolean\") return babelrcRoots;\n  const absoluteRoot = context.root;\n\n  if (babelrcRoots === undefined) {\n    return pkgData.directories.indexOf(absoluteRoot) !== -1;\n  }\n\n  let babelrcPatterns = babelrcRoots;\n\n  if (!Array.isArray(babelrcPatterns)) {\n    babelrcPatterns = [babelrcPatterns];\n  }\n\n  babelrcPatterns = babelrcPatterns.map(pat => {\n    return typeof pat === \"string\" ? _path().resolve(babelrcRootsDirectory, pat) : pat;\n  });\n\n  if (babelrcPatterns.length === 1 && babelrcPatterns[0] === absoluteRoot) {\n    return pkgData.directories.indexOf(absoluteRoot) !== -1;\n  }\n\n  return babelrcPatterns.some(pat => {\n    if (typeof pat === \"string\") {\n      pat = (0, _patternToRegex.default)(pat, babelrcRootsDirectory);\n    }\n\n    return pkgData.directories.some(directory => {\n      return matchPattern(pat, babelrcRootsDirectory, directory, context);\n    });\n  });\n}\n\nconst validateConfigFile = (0, _caching.makeWeakCacheSync)(file => ({\n  filepath: file.filepath,\n  dirname: file.dirname,\n  options: (0, _options.validate)(\"configfile\", file.options)\n}));\nconst validateBabelrcFile = (0, _caching.makeWeakCacheSync)(file => ({\n  filepath: file.filepath,\n  dirname: file.dirname,\n  options: (0, _options.validate)(\"babelrcfile\", file.options)\n}));\nconst validateExtendFile = (0, _caching.makeWeakCacheSync)(file => ({\n  filepath: file.filepath,\n  dirname: file.dirname,\n  options: (0, _options.validate)(\"extendsfile\", file.options)\n}));\nconst loadProgrammaticChain = makeChainWalker({\n  root: input => buildRootDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors),\n  env: (input, envName) => buildEnvDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors, envName),\n  overrides: (input, index) => buildOverrideDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors, index),\n  overridesEnv: (input, index, envName) => buildOverrideEnvDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors, index, envName),\n  createLogger: (input, context, baseLogger) => buildProgrammaticLogger(input, context, baseLogger)\n});\nconst loadFileChainWalker = makeChainWalker({\n  root: file => loadFileDescriptors(file),\n  env: (file, envName) => loadFileEnvDescriptors(file)(envName),\n  overrides: (file, index) => loadFileOverridesDescriptors(file)(index),\n  overridesEnv: (file, index, envName) => loadFileOverridesEnvDescriptors(file)(index)(envName),\n  createLogger: (file, context, baseLogger) => buildFileLogger(file.filepath, context, baseLogger)\n});\n\nfunction* loadFileChain(input, context, files, baseLogger) {\n  const chain = yield* loadFileChainWalker(input, context, files, baseLogger);\n\n  if (chain) {\n    chain.files.add(input.filepath);\n  }\n\n  return chain;\n}\n\nconst loadFileDescriptors = (0, _caching.makeWeakCacheSync)(file => buildRootDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors));\nconst loadFileEnvDescriptors = (0, _caching.makeWeakCacheSync)(file => (0, _caching.makeStrongCacheSync)(envName => buildEnvDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors, envName)));\nconst loadFileOverridesDescriptors = (0, _caching.makeWeakCacheSync)(file => (0, _caching.makeStrongCacheSync)(index => buildOverrideDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors, index)));\nconst loadFileOverridesEnvDescriptors = (0, _caching.makeWeakCacheSync)(file => (0, _caching.makeStrongCacheSync)(index => (0, _caching.makeStrongCacheSync)(envName => buildOverrideEnvDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors, index, envName))));\n\nfunction buildFileLogger(filepath, context, baseLogger) {\n  if (!baseLogger) {\n    return () => {};\n  }\n\n  return baseLogger.configure(context.showConfig, _printer.ChainFormatter.Config, {\n    filepath\n  });\n}\n\nfunction buildRootDescriptors(_ref, alias, descriptors) {\n  let {\n    dirname,\n    options\n  } = _ref;\n  return descriptors(dirname, options, alias);\n}\n\nfunction buildProgrammaticLogger(_, context, baseLogger) {\n  var _context$caller;\n\n  if (!baseLogger) {\n    return () => {};\n  }\n\n  return baseLogger.configure(context.showConfig, _printer.ChainFormatter.Programmatic, {\n    callerName: (_context$caller = context.caller) == null ? void 0 : _context$caller.name\n  });\n}\n\nfunction buildEnvDescriptors(_ref2, alias, descriptors, envName) {\n  let {\n    dirname,\n    options\n  } = _ref2;\n  const opts = options.env && options.env[envName];\n  return opts ? descriptors(dirname, opts, `${alias}.env[\"${envName}\"]`) : null;\n}\n\nfunction buildOverrideDescriptors(_ref3, alias, descriptors, index) {\n  let {\n    dirname,\n    options\n  } = _ref3;\n  const opts = options.overrides && options.overrides[index];\n  if (!opts) throw new Error(\"Assertion failure - missing override\");\n  return descriptors(dirname, opts, `${alias}.overrides[${index}]`);\n}\n\nfunction buildOverrideEnvDescriptors(_ref4, alias, descriptors, index, envName) {\n  let {\n    dirname,\n    options\n  } = _ref4;\n  const override = options.overrides && options.overrides[index];\n  if (!override) throw new Error(\"Assertion failure - missing override\");\n  const opts = override.env && override.env[envName];\n  return opts ? descriptors(dirname, opts, `${alias}.overrides[${index}].env[\"${envName}\"]`) : null;\n}\n\nfunction makeChainWalker(_ref5) {\n  let {\n    root,\n    env,\n    overrides,\n    overridesEnv,\n    createLogger\n  } = _ref5;\n  return function* (input, context) {\n    let files = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Set();\n    let baseLogger = arguments.length > 3 ? arguments[3] : undefined;\n    const {\n      dirname\n    } = input;\n    const flattenedConfigs = [];\n    const rootOpts = root(input);\n\n    if (configIsApplicable(rootOpts, dirname, context)) {\n      flattenedConfigs.push({\n        config: rootOpts,\n        envName: undefined,\n        index: undefined\n      });\n      const envOpts = env(input, context.envName);\n\n      if (envOpts && configIsApplicable(envOpts, dirname, context)) {\n        flattenedConfigs.push({\n          config: envOpts,\n          envName: context.envName,\n          index: undefined\n        });\n      }\n\n      (rootOpts.options.overrides || []).forEach((_, index) => {\n        const overrideOps = overrides(input, index);\n\n        if (configIsApplicable(overrideOps, dirname, context)) {\n          flattenedConfigs.push({\n            config: overrideOps,\n            index,\n            envName: undefined\n          });\n          const overrideEnvOpts = overridesEnv(input, index, context.envName);\n\n          if (overrideEnvOpts && configIsApplicable(overrideEnvOpts, dirname, context)) {\n            flattenedConfigs.push({\n              config: overrideEnvOpts,\n              index,\n              envName: context.envName\n            });\n          }\n        }\n      });\n    }\n\n    if (flattenedConfigs.some(_ref6 => {\n      let {\n        config: {\n          options: {\n            ignore,\n            only\n          }\n        }\n      } = _ref6;\n      return shouldIgnore(context, ignore, only, dirname);\n    })) {\n      return null;\n    }\n\n    const chain = emptyChain();\n    const logger = createLogger(input, context, baseLogger);\n\n    for (const {\n      config,\n      index,\n      envName\n    } of flattenedConfigs) {\n      if (!(yield* mergeExtendsChain(chain, config.options, dirname, context, files, baseLogger))) {\n        return null;\n      }\n\n      logger(config, index, envName);\n      yield* mergeChainOpts(chain, config);\n    }\n\n    return chain;\n  };\n}\n\nfunction* mergeExtendsChain(chain, opts, dirname, context, files, baseLogger) {\n  if (opts.extends === undefined) return true;\n  const file = yield* (0, _files.loadConfig)(opts.extends, dirname, context.envName, context.caller);\n\n  if (files.has(file)) {\n    throw new Error(`Configuration cycle detected loading ${file.filepath}.\\n` + `File already loaded following the config chain:\\n` + Array.from(files, file => ` - ${file.filepath}`).join(\"\\n\"));\n  }\n\n  files.add(file);\n  const fileChain = yield* loadFileChain(validateExtendFile(file), context, files, baseLogger);\n  files.delete(file);\n  if (!fileChain) return false;\n  mergeChain(chain, fileChain);\n  return true;\n}\n\nfunction mergeChain(target, source) {\n  target.options.push(...source.options);\n  target.plugins.push(...source.plugins);\n  target.presets.push(...source.presets);\n\n  for (const file of source.files) {\n    target.files.add(file);\n  }\n\n  return target;\n}\n\nfunction* mergeChainOpts(target, _ref7) {\n  let {\n    options,\n    plugins,\n    presets\n  } = _ref7;\n  target.options.push(options);\n  target.plugins.push(...(yield* plugins()));\n  target.presets.push(...(yield* presets()));\n  return target;\n}\n\nfunction emptyChain() {\n  return {\n    options: [],\n    presets: [],\n    plugins: [],\n    files: new Set()\n  };\n}\n\nfunction normalizeOptions(opts) {\n  const options = Object.assign({}, opts);\n  delete options.extends;\n  delete options.env;\n  delete options.overrides;\n  delete options.plugins;\n  delete options.presets;\n  delete options.passPerPreset;\n  delete options.ignore;\n  delete options.only;\n  delete options.test;\n  delete options.include;\n  delete options.exclude;\n\n  if (Object.prototype.hasOwnProperty.call(options, \"sourceMap\")) {\n    options.sourceMaps = options.sourceMap;\n    delete options.sourceMap;\n  }\n\n  return options;\n}\n\nfunction dedupDescriptors(items) {\n  const map = new Map();\n  const descriptors = [];\n\n  for (const item of items) {\n    if (typeof item.value === \"function\") {\n      const fnKey = item.value;\n      let nameMap = map.get(fnKey);\n\n      if (!nameMap) {\n        nameMap = new Map();\n        map.set(fnKey, nameMap);\n      }\n\n      let desc = nameMap.get(item.name);\n\n      if (!desc) {\n        desc = {\n          value: item\n        };\n        descriptors.push(desc);\n        if (!item.ownPass) nameMap.set(item.name, desc);\n      } else {\n        desc.value = item;\n      }\n    } else {\n      descriptors.push({\n        value: item\n      });\n    }\n  }\n\n  return descriptors.reduce((acc, desc) => {\n    acc.push(desc.value);\n    return acc;\n  }, []);\n}\n\nfunction configIsApplicable(_ref8, dirname, context) {\n  let {\n    options\n  } = _ref8;\n  return (options.test === undefined || configFieldIsApplicable(context, options.test, dirname)) && (options.include === undefined || configFieldIsApplicable(context, options.include, dirname)) && (options.exclude === undefined || !configFieldIsApplicable(context, options.exclude, dirname));\n}\n\nfunction configFieldIsApplicable(context, test, dirname) {\n  const patterns = Array.isArray(test) ? test : [test];\n  return matchesPatterns(context, patterns, dirname);\n}\n\nfunction ignoreListReplacer(_key, value) {\n  if (value instanceof RegExp) {\n    return String(value);\n  }\n\n  return value;\n}\n\nfunction shouldIgnore(context, ignore, only, dirname) {\n  if (ignore && matchesPatterns(context, ignore, dirname)) {\n    var _context$filename;\n\n    const message = `No config is applied to \"${(_context$filename = context.filename) != null ? _context$filename : \"(unknown)\"}\" because it matches one of \\`ignore: ${JSON.stringify(ignore, ignoreListReplacer)}\\` from \"${dirname}\"`;\n    debug(message);\n\n    if (context.showConfig) {\n      console.log(message);\n    }\n\n    return true;\n  }\n\n  if (only && !matchesPatterns(context, only, dirname)) {\n    var _context$filename2;\n\n    const message = `No config is applied to \"${(_context$filename2 = context.filename) != null ? _context$filename2 : \"(unknown)\"}\" because it fails to match one of \\`only: ${JSON.stringify(only, ignoreListReplacer)}\\` from \"${dirname}\"`;\n    debug(message);\n\n    if (context.showConfig) {\n      console.log(message);\n    }\n\n    return true;\n  }\n\n  return false;\n}\n\nfunction matchesPatterns(context, patterns, dirname) {\n  return patterns.some(pattern => matchPattern(pattern, dirname, context.filename, context));\n}\n\nfunction matchPattern(pattern, dirname, pathToTest, context) {\n  if (typeof pattern === \"function\") {\n    return !!pattern(pathToTest, {\n      dirname,\n      envName: context.envName,\n      caller: context.caller\n    });\n  }\n\n  if (typeof pathToTest !== \"string\") {\n    throw new Error(`Configuration contains string/RegExp pattern, but no filename was passed to Babel`);\n  }\n\n  if (typeof pattern === \"string\") {\n    pattern = (0, _patternToRegex.default)(pattern, dirname);\n  }\n\n  return pattern.test(pathToTest);\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","buildPresetChain","buildPresetChainWalker","buildRootChain","_path","data","require","_debug","_options","_patternToRegex","_printer","_files","_caching","_configDescriptors","debug","arg","context","chain","plugins","dedupDescriptors","presets","options","map","o","normalizeOptions","files","Set","makeChainWalker","root","preset","loadPresetDescriptors","env","envName","loadPresetEnvDescriptors","overrides","index","loadPresetOverridesDescriptors","overridesEnv","loadPresetOverridesEnvDescriptors","createLogger","makeWeakCacheSync","buildRootDescriptors","alias","createUncachedDescriptors","makeStrongCacheSync","buildEnvDescriptors","buildOverrideDescriptors","buildOverrideEnvDescriptors","opts","configReport","babelRcReport","programmaticLogger","ConfigPrinter","programmaticChain","loadProgrammaticChain","dirname","cwd","undefined","programmaticReport","output","configFile","loadConfig","caller","findRootConfig","babelrc","babelrcRoots","babelrcRootsDirectory","configFileChain","emptyChain","configFileLogger","validatedFile","validateConfigFile","result","loadFileChain","mergeChain","ignoreFile","babelrcFile","isIgnored","fileChain","filename","pkgData","findPackageData","babelrcLoadEnabled","ignore","config","findRelativeConfig","add","filepath","shouldIgnore","validateBabelrcFile","babelrcLogger","showConfig","console","log","filter","x","join","fileHandling","absoluteRoot","directories","indexOf","babelrcPatterns","Array","isArray","pat","resolve","length","some","default","directory","matchPattern","file","validate","validateExtendFile","input","createCachedDescriptors","baseLogger","buildProgrammaticLogger","loadFileChainWalker","loadFileDescriptors","loadFileEnvDescriptors","loadFileOverridesDescriptors","loadFileOverridesEnvDescriptors","buildFileLogger","configure","ChainFormatter","Config","descriptors","_","_context$caller","Programmatic","callerName","name","Error","override","flattenedConfigs","rootOpts","configIsApplicable","push","envOpts","forEach","overrideOps","overrideEnvOpts","only","logger","mergeExtendsChain","mergeChainOpts","extends","has","from","delete","target","source","assign","passPerPreset","test","include","exclude","prototype","hasOwnProperty","call","sourceMaps","sourceMap","items","Map","item","fnKey","nameMap","get","set","desc","ownPass","reduce","acc","configFieldIsApplicable","patterns","matchesPatterns","ignoreListReplacer","_key","RegExp","String","_context$filename","message","JSON","stringify","_context$filename2","pattern","pathToTest"],"sources":["C:/Users/arrow/Desktop/Software Topics/React.js/ui/node_modules/@babel/core/lib/config/config-chain.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildPresetChain = buildPresetChain;\nexports.buildPresetChainWalker = void 0;\nexports.buildRootChain = buildRootChain;\n\nfunction _path() {\n  const data = require(\"path\");\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _debug() {\n  const data = require(\"debug\");\n\n  _debug = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _options = require(\"./validation/options\");\n\nvar _patternToRegex = require(\"./pattern-to-regex\");\n\nvar _printer = require(\"./printer\");\n\nvar _files = require(\"./files\");\n\nvar _caching = require(\"./caching\");\n\nvar _configDescriptors = require(\"./config-descriptors\");\n\nconst debug = _debug()(\"babel:config:config-chain\");\n\nfunction* buildPresetChain(arg, context) {\n  const chain = yield* buildPresetChainWalker(arg, context);\n  if (!chain) return null;\n  return {\n    plugins: dedupDescriptors(chain.plugins),\n    presets: dedupDescriptors(chain.presets),\n    options: chain.options.map(o => normalizeOptions(o)),\n    files: new Set()\n  };\n}\n\nconst buildPresetChainWalker = makeChainWalker({\n  root: preset => loadPresetDescriptors(preset),\n  env: (preset, envName) => loadPresetEnvDescriptors(preset)(envName),\n  overrides: (preset, index) => loadPresetOverridesDescriptors(preset)(index),\n  overridesEnv: (preset, index, envName) => loadPresetOverridesEnvDescriptors(preset)(index)(envName),\n  createLogger: () => () => {}\n});\nexports.buildPresetChainWalker = buildPresetChainWalker;\nconst loadPresetDescriptors = (0, _caching.makeWeakCacheSync)(preset => buildRootDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors));\nconst loadPresetEnvDescriptors = (0, _caching.makeWeakCacheSync)(preset => (0, _caching.makeStrongCacheSync)(envName => buildEnvDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors, envName)));\nconst loadPresetOverridesDescriptors = (0, _caching.makeWeakCacheSync)(preset => (0, _caching.makeStrongCacheSync)(index => buildOverrideDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors, index)));\nconst loadPresetOverridesEnvDescriptors = (0, _caching.makeWeakCacheSync)(preset => (0, _caching.makeStrongCacheSync)(index => (0, _caching.makeStrongCacheSync)(envName => buildOverrideEnvDescriptors(preset, preset.alias, _configDescriptors.createUncachedDescriptors, index, envName))));\n\nfunction* buildRootChain(opts, context) {\n  let configReport, babelRcReport;\n  const programmaticLogger = new _printer.ConfigPrinter();\n  const programmaticChain = yield* loadProgrammaticChain({\n    options: opts,\n    dirname: context.cwd\n  }, context, undefined, programmaticLogger);\n  if (!programmaticChain) return null;\n  const programmaticReport = yield* programmaticLogger.output();\n  let configFile;\n\n  if (typeof opts.configFile === \"string\") {\n    configFile = yield* (0, _files.loadConfig)(opts.configFile, context.cwd, context.envName, context.caller);\n  } else if (opts.configFile !== false) {\n    configFile = yield* (0, _files.findRootConfig)(context.root, context.envName, context.caller);\n  }\n\n  let {\n    babelrc,\n    babelrcRoots\n  } = opts;\n  let babelrcRootsDirectory = context.cwd;\n  const configFileChain = emptyChain();\n  const configFileLogger = new _printer.ConfigPrinter();\n\n  if (configFile) {\n    const validatedFile = validateConfigFile(configFile);\n    const result = yield* loadFileChain(validatedFile, context, undefined, configFileLogger);\n    if (!result) return null;\n    configReport = yield* configFileLogger.output();\n\n    if (babelrc === undefined) {\n      babelrc = validatedFile.options.babelrc;\n    }\n\n    if (babelrcRoots === undefined) {\n      babelrcRootsDirectory = validatedFile.dirname;\n      babelrcRoots = validatedFile.options.babelrcRoots;\n    }\n\n    mergeChain(configFileChain, result);\n  }\n\n  let ignoreFile, babelrcFile;\n  let isIgnored = false;\n  const fileChain = emptyChain();\n\n  if ((babelrc === true || babelrc === undefined) && typeof context.filename === \"string\") {\n    const pkgData = yield* (0, _files.findPackageData)(context.filename);\n\n    if (pkgData && babelrcLoadEnabled(context, pkgData, babelrcRoots, babelrcRootsDirectory)) {\n      ({\n        ignore: ignoreFile,\n        config: babelrcFile\n      } = yield* (0, _files.findRelativeConfig)(pkgData, context.envName, context.caller));\n\n      if (ignoreFile) {\n        fileChain.files.add(ignoreFile.filepath);\n      }\n\n      if (ignoreFile && shouldIgnore(context, ignoreFile.ignore, null, ignoreFile.dirname)) {\n        isIgnored = true;\n      }\n\n      if (babelrcFile && !isIgnored) {\n        const validatedFile = validateBabelrcFile(babelrcFile);\n        const babelrcLogger = new _printer.ConfigPrinter();\n        const result = yield* loadFileChain(validatedFile, context, undefined, babelrcLogger);\n\n        if (!result) {\n          isIgnored = true;\n        } else {\n          babelRcReport = yield* babelrcLogger.output();\n          mergeChain(fileChain, result);\n        }\n      }\n\n      if (babelrcFile && isIgnored) {\n        fileChain.files.add(babelrcFile.filepath);\n      }\n    }\n  }\n\n  if (context.showConfig) {\n    console.log(`Babel configs on \"${context.filename}\" (ascending priority):\\n` + [configReport, babelRcReport, programmaticReport].filter(x => !!x).join(\"\\n\\n\") + \"\\n-----End Babel configs-----\");\n  }\n\n  const chain = mergeChain(mergeChain(mergeChain(emptyChain(), configFileChain), fileChain), programmaticChain);\n  return {\n    plugins: isIgnored ? [] : dedupDescriptors(chain.plugins),\n    presets: isIgnored ? [] : dedupDescriptors(chain.presets),\n    options: isIgnored ? [] : chain.options.map(o => normalizeOptions(o)),\n    fileHandling: isIgnored ? \"ignored\" : \"transpile\",\n    ignore: ignoreFile || undefined,\n    babelrc: babelrcFile || undefined,\n    config: configFile || undefined,\n    files: chain.files\n  };\n}\n\nfunction babelrcLoadEnabled(context, pkgData, babelrcRoots, babelrcRootsDirectory) {\n  if (typeof babelrcRoots === \"boolean\") return babelrcRoots;\n  const absoluteRoot = context.root;\n\n  if (babelrcRoots === undefined) {\n    return pkgData.directories.indexOf(absoluteRoot) !== -1;\n  }\n\n  let babelrcPatterns = babelrcRoots;\n\n  if (!Array.isArray(babelrcPatterns)) {\n    babelrcPatterns = [babelrcPatterns];\n  }\n\n  babelrcPatterns = babelrcPatterns.map(pat => {\n    return typeof pat === \"string\" ? _path().resolve(babelrcRootsDirectory, pat) : pat;\n  });\n\n  if (babelrcPatterns.length === 1 && babelrcPatterns[0] === absoluteRoot) {\n    return pkgData.directories.indexOf(absoluteRoot) !== -1;\n  }\n\n  return babelrcPatterns.some(pat => {\n    if (typeof pat === \"string\") {\n      pat = (0, _patternToRegex.default)(pat, babelrcRootsDirectory);\n    }\n\n    return pkgData.directories.some(directory => {\n      return matchPattern(pat, babelrcRootsDirectory, directory, context);\n    });\n  });\n}\n\nconst validateConfigFile = (0, _caching.makeWeakCacheSync)(file => ({\n  filepath: file.filepath,\n  dirname: file.dirname,\n  options: (0, _options.validate)(\"configfile\", file.options)\n}));\nconst validateBabelrcFile = (0, _caching.makeWeakCacheSync)(file => ({\n  filepath: file.filepath,\n  dirname: file.dirname,\n  options: (0, _options.validate)(\"babelrcfile\", file.options)\n}));\nconst validateExtendFile = (0, _caching.makeWeakCacheSync)(file => ({\n  filepath: file.filepath,\n  dirname: file.dirname,\n  options: (0, _options.validate)(\"extendsfile\", file.options)\n}));\nconst loadProgrammaticChain = makeChainWalker({\n  root: input => buildRootDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors),\n  env: (input, envName) => buildEnvDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors, envName),\n  overrides: (input, index) => buildOverrideDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors, index),\n  overridesEnv: (input, index, envName) => buildOverrideEnvDescriptors(input, \"base\", _configDescriptors.createCachedDescriptors, index, envName),\n  createLogger: (input, context, baseLogger) => buildProgrammaticLogger(input, context, baseLogger)\n});\nconst loadFileChainWalker = makeChainWalker({\n  root: file => loadFileDescriptors(file),\n  env: (file, envName) => loadFileEnvDescriptors(file)(envName),\n  overrides: (file, index) => loadFileOverridesDescriptors(file)(index),\n  overridesEnv: (file, index, envName) => loadFileOverridesEnvDescriptors(file)(index)(envName),\n  createLogger: (file, context, baseLogger) => buildFileLogger(file.filepath, context, baseLogger)\n});\n\nfunction* loadFileChain(input, context, files, baseLogger) {\n  const chain = yield* loadFileChainWalker(input, context, files, baseLogger);\n\n  if (chain) {\n    chain.files.add(input.filepath);\n  }\n\n  return chain;\n}\n\nconst loadFileDescriptors = (0, _caching.makeWeakCacheSync)(file => buildRootDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors));\nconst loadFileEnvDescriptors = (0, _caching.makeWeakCacheSync)(file => (0, _caching.makeStrongCacheSync)(envName => buildEnvDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors, envName)));\nconst loadFileOverridesDescriptors = (0, _caching.makeWeakCacheSync)(file => (0, _caching.makeStrongCacheSync)(index => buildOverrideDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors, index)));\nconst loadFileOverridesEnvDescriptors = (0, _caching.makeWeakCacheSync)(file => (0, _caching.makeStrongCacheSync)(index => (0, _caching.makeStrongCacheSync)(envName => buildOverrideEnvDescriptors(file, file.filepath, _configDescriptors.createUncachedDescriptors, index, envName))));\n\nfunction buildFileLogger(filepath, context, baseLogger) {\n  if (!baseLogger) {\n    return () => {};\n  }\n\n  return baseLogger.configure(context.showConfig, _printer.ChainFormatter.Config, {\n    filepath\n  });\n}\n\nfunction buildRootDescriptors({\n  dirname,\n  options\n}, alias, descriptors) {\n  return descriptors(dirname, options, alias);\n}\n\nfunction buildProgrammaticLogger(_, context, baseLogger) {\n  var _context$caller;\n\n  if (!baseLogger) {\n    return () => {};\n  }\n\n  return baseLogger.configure(context.showConfig, _printer.ChainFormatter.Programmatic, {\n    callerName: (_context$caller = context.caller) == null ? void 0 : _context$caller.name\n  });\n}\n\nfunction buildEnvDescriptors({\n  dirname,\n  options\n}, alias, descriptors, envName) {\n  const opts = options.env && options.env[envName];\n  return opts ? descriptors(dirname, opts, `${alias}.env[\"${envName}\"]`) : null;\n}\n\nfunction buildOverrideDescriptors({\n  dirname,\n  options\n}, alias, descriptors, index) {\n  const opts = options.overrides && options.overrides[index];\n  if (!opts) throw new Error(\"Assertion failure - missing override\");\n  return descriptors(dirname, opts, `${alias}.overrides[${index}]`);\n}\n\nfunction buildOverrideEnvDescriptors({\n  dirname,\n  options\n}, alias, descriptors, index, envName) {\n  const override = options.overrides && options.overrides[index];\n  if (!override) throw new Error(\"Assertion failure - missing override\");\n  const opts = override.env && override.env[envName];\n  return opts ? descriptors(dirname, opts, `${alias}.overrides[${index}].env[\"${envName}\"]`) : null;\n}\n\nfunction makeChainWalker({\n  root,\n  env,\n  overrides,\n  overridesEnv,\n  createLogger\n}) {\n  return function* (input, context, files = new Set(), baseLogger) {\n    const {\n      dirname\n    } = input;\n    const flattenedConfigs = [];\n    const rootOpts = root(input);\n\n    if (configIsApplicable(rootOpts, dirname, context)) {\n      flattenedConfigs.push({\n        config: rootOpts,\n        envName: undefined,\n        index: undefined\n      });\n      const envOpts = env(input, context.envName);\n\n      if (envOpts && configIsApplicable(envOpts, dirname, context)) {\n        flattenedConfigs.push({\n          config: envOpts,\n          envName: context.envName,\n          index: undefined\n        });\n      }\n\n      (rootOpts.options.overrides || []).forEach((_, index) => {\n        const overrideOps = overrides(input, index);\n\n        if (configIsApplicable(overrideOps, dirname, context)) {\n          flattenedConfigs.push({\n            config: overrideOps,\n            index,\n            envName: undefined\n          });\n          const overrideEnvOpts = overridesEnv(input, index, context.envName);\n\n          if (overrideEnvOpts && configIsApplicable(overrideEnvOpts, dirname, context)) {\n            flattenedConfigs.push({\n              config: overrideEnvOpts,\n              index,\n              envName: context.envName\n            });\n          }\n        }\n      });\n    }\n\n    if (flattenedConfigs.some(({\n      config: {\n        options: {\n          ignore,\n          only\n        }\n      }\n    }) => shouldIgnore(context, ignore, only, dirname))) {\n      return null;\n    }\n\n    const chain = emptyChain();\n    const logger = createLogger(input, context, baseLogger);\n\n    for (const {\n      config,\n      index,\n      envName\n    } of flattenedConfigs) {\n      if (!(yield* mergeExtendsChain(chain, config.options, dirname, context, files, baseLogger))) {\n        return null;\n      }\n\n      logger(config, index, envName);\n      yield* mergeChainOpts(chain, config);\n    }\n\n    return chain;\n  };\n}\n\nfunction* mergeExtendsChain(chain, opts, dirname, context, files, baseLogger) {\n  if (opts.extends === undefined) return true;\n  const file = yield* (0, _files.loadConfig)(opts.extends, dirname, context.envName, context.caller);\n\n  if (files.has(file)) {\n    throw new Error(`Configuration cycle detected loading ${file.filepath}.\\n` + `File already loaded following the config chain:\\n` + Array.from(files, file => ` - ${file.filepath}`).join(\"\\n\"));\n  }\n\n  files.add(file);\n  const fileChain = yield* loadFileChain(validateExtendFile(file), context, files, baseLogger);\n  files.delete(file);\n  if (!fileChain) return false;\n  mergeChain(chain, fileChain);\n  return true;\n}\n\nfunction mergeChain(target, source) {\n  target.options.push(...source.options);\n  target.plugins.push(...source.plugins);\n  target.presets.push(...source.presets);\n\n  for (const file of source.files) {\n    target.files.add(file);\n  }\n\n  return target;\n}\n\nfunction* mergeChainOpts(target, {\n  options,\n  plugins,\n  presets\n}) {\n  target.options.push(options);\n  target.plugins.push(...(yield* plugins()));\n  target.presets.push(...(yield* presets()));\n  return target;\n}\n\nfunction emptyChain() {\n  return {\n    options: [],\n    presets: [],\n    plugins: [],\n    files: new Set()\n  };\n}\n\nfunction normalizeOptions(opts) {\n  const options = Object.assign({}, opts);\n  delete options.extends;\n  delete options.env;\n  delete options.overrides;\n  delete options.plugins;\n  delete options.presets;\n  delete options.passPerPreset;\n  delete options.ignore;\n  delete options.only;\n  delete options.test;\n  delete options.include;\n  delete options.exclude;\n\n  if (Object.prototype.hasOwnProperty.call(options, \"sourceMap\")) {\n    options.sourceMaps = options.sourceMap;\n    delete options.sourceMap;\n  }\n\n  return options;\n}\n\nfunction dedupDescriptors(items) {\n  const map = new Map();\n  const descriptors = [];\n\n  for (const item of items) {\n    if (typeof item.value === \"function\") {\n      const fnKey = item.value;\n      let nameMap = map.get(fnKey);\n\n      if (!nameMap) {\n        nameMap = new Map();\n        map.set(fnKey, nameMap);\n      }\n\n      let desc = nameMap.get(item.name);\n\n      if (!desc) {\n        desc = {\n          value: item\n        };\n        descriptors.push(desc);\n        if (!item.ownPass) nameMap.set(item.name, desc);\n      } else {\n        desc.value = item;\n      }\n    } else {\n      descriptors.push({\n        value: item\n      });\n    }\n  }\n\n  return descriptors.reduce((acc, desc) => {\n    acc.push(desc.value);\n    return acc;\n  }, []);\n}\n\nfunction configIsApplicable({\n  options\n}, dirname, context) {\n  return (options.test === undefined || configFieldIsApplicable(context, options.test, dirname)) && (options.include === undefined || configFieldIsApplicable(context, options.include, dirname)) && (options.exclude === undefined || !configFieldIsApplicable(context, options.exclude, dirname));\n}\n\nfunction configFieldIsApplicable(context, test, dirname) {\n  const patterns = Array.isArray(test) ? test : [test];\n  return matchesPatterns(context, patterns, dirname);\n}\n\nfunction ignoreListReplacer(_key, value) {\n  if (value instanceof RegExp) {\n    return String(value);\n  }\n\n  return value;\n}\n\nfunction shouldIgnore(context, ignore, only, dirname) {\n  if (ignore && matchesPatterns(context, ignore, dirname)) {\n    var _context$filename;\n\n    const message = `No config is applied to \"${(_context$filename = context.filename) != null ? _context$filename : \"(unknown)\"}\" because it matches one of \\`ignore: ${JSON.stringify(ignore, ignoreListReplacer)}\\` from \"${dirname}\"`;\n    debug(message);\n\n    if (context.showConfig) {\n      console.log(message);\n    }\n\n    return true;\n  }\n\n  if (only && !matchesPatterns(context, only, dirname)) {\n    var _context$filename2;\n\n    const message = `No config is applied to \"${(_context$filename2 = context.filename) != null ? _context$filename2 : \"(unknown)\"}\" because it fails to match one of \\`only: ${JSON.stringify(only, ignoreListReplacer)}\\` from \"${dirname}\"`;\n    debug(message);\n\n    if (context.showConfig) {\n      console.log(message);\n    }\n\n    return true;\n  }\n\n  return false;\n}\n\nfunction matchesPatterns(context, patterns, dirname) {\n  return patterns.some(pattern => matchPattern(pattern, dirname, context.filename, context));\n}\n\nfunction matchPattern(pattern, dirname, pathToTest, context) {\n  if (typeof pattern === \"function\") {\n    return !!pattern(pathToTest, {\n      dirname,\n      envName: context.envName,\n      caller: context.caller\n    });\n  }\n\n  if (typeof pathToTest !== \"string\") {\n    throw new Error(`Configuration contains string/RegExp pattern, but no filename was passed to Babel`);\n  }\n\n  if (typeof pattern === \"string\") {\n    pattern = (0, _patternToRegex.default)(pattern, dirname);\n  }\n\n  return pattern.test(pathToTest);\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}